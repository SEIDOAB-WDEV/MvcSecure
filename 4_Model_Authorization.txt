Purpose:
Adding security to AppRazor and AppMvc

Add CRUD User Authorized to access to Models
Add Serverside model level Authorization and Forbid access to resoure if User not authorized to access it

Steps:

1. In folder Models/Authorization add two classes
   public static class CrudOperations
   public class MusicGroupAuthorizationHandler : AuthorizationHandler<OperationAuthorizationRequirement, MusicGroup>


AppRazor
--------

2. In ListOfGroups.cshtml.cs add namespaces
   using Microsoft.AspNetCore.Authorization;
   using Models.Authorization;

3. Inject IAuthorizationService into ListOfGroups constructor. Set a private field _authService to store the injected service

4. In ListOfGroups.cshtml.cs modify OnPostDeleteGroup to check if User is Authorized to delete a group
   var mg = (await _service.ReadMusicGroupAsync(groupId, true)).Item;
   var result = await _authorizationService.AuthorizeAsync(User, mg, CrudOperations.Delete);
   if (!result.Succeeded)
   {
            return Forbid();
   }

5. In program.cs add model authorization service
//Model Authorization
builder.Services.AddSingleton<IAuthorizationHandler, MusicGroupAuthorizationHandler>();

6. Run the app and see that you are also redirected to Login in case you try to delete a group
   if you are logged in, you can delete the group


AppMvc
------

2. In program.cs add model authorization service
//Model Authorization
builder.Services.AddSingleton<IAuthorizationHandler, MusicGroupAuthorizationHandler>();

3. In this step model level authorization is not needed, but we will use it in next step 
